{"ast":null,"code":"import { fetchSinToken } from \"../helpers/fetch\";\nimport { types } from \"../types/types\";\nexport const stratLogin = (email, password) => {\n  return async dispatch => {\n    const resp = await fetchSinToken('auth', {\n      email,\n      password\n    }, \"POST\"); //el fetch retorna\n    // una respuesta por lo q utilizamos el await y la funcion tendra q ser async\n\n    const body = await resp.json(); //lo converitmos para aceedera la informacion\n\n    if (body.ok) {\n      localStorage.setItem('token-init-date', new Date().getTime()); //grabaremos la fecha completa del token\n      //en el local storage,la fecha en q se crea\n      //ya lo tenemos todoo de nuestro backend ahora tenemos q hacer el dispatch de nuestra accion\n\n      dispatch(login({\n        uid: body.uid,\n        name: body.name\n      })); // } else {\n      //     dispatch( checkingFinish() );\n      // }\n    }\n  };\n};\n\nconst login = user => ({\n  type: types.authLogin,\n  payload: user\n});","map":{"version":3,"names":["fetchSinToken","types","stratLogin","email","password","dispatch","resp","body","json","ok","localStorage","setItem","Date","getTime","login","uid","name","user","type","authLogin","payload"],"sources":["/home/erielmejias99/files/project/web/React/Calendar/MERN-Calendar/src/actions/auth.js"],"sourcesContent":["import {fetchSinToken} from \"../helpers/fetch\";\nimport {types} from \"../types/types\";\n\n\nexport const stratLogin = (email, password) => {\n    return async (dispatch) => {\n        const resp = await fetchSinToken('auth', {email, password}, \"POST\"); //el fetch retorna\n        // una respuesta por lo q utilizamos el await y la funcion tendra q ser async\n        const body = await resp.json();//lo converitmos para aceedera la informacion\n\n        if (body.ok) {\n            localStorage.setItem('token-init-date', new Date().getTime()); //grabaremos la fecha completa del token\n            //en el local storage,la fecha en q se crea\n\n\n            //ya lo tenemos todoo de nuestro backend ahora tenemos q hacer el dispatch de nuestra accion\n            dispatch(login({\n                uid: body.uid,\n                name: body.name\n            }))\n\n            // } else {\n            //     dispatch( checkingFinish() );\n            // }\n\n        }\n    }\n}\n\nconst login = ( user ) => ({\n    type: types.authLogin,\n    payload: user\n});"],"mappings":"AAAA,SAAQA,aAAR,QAA4B,kBAA5B;AACA,SAAQC,KAAR,QAAoB,gBAApB;AAGA,OAAO,MAAMC,UAAU,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;EAC3C,OAAO,MAAOC,QAAP,IAAoB;IACvB,MAAMC,IAAI,GAAG,MAAMN,aAAa,CAAC,MAAD,EAAS;MAACG,KAAD;MAAQC;IAAR,CAAT,EAA4B,MAA5B,CAAhC,CADuB,CAC8C;IACrE;;IACA,MAAMG,IAAI,GAAG,MAAMD,IAAI,CAACE,IAAL,EAAnB,CAHuB,CAGQ;;IAE/B,IAAID,IAAI,CAACE,EAAT,EAAa;MACTC,YAAY,CAACC,OAAb,CAAqB,iBAArB,EAAwC,IAAIC,IAAJ,GAAWC,OAAX,EAAxC,EADS,CACsD;MAC/D;MAGA;;MACAR,QAAQ,CAACS,KAAK,CAAC;QACXC,GAAG,EAAER,IAAI,CAACQ,GADC;QAEXC,IAAI,EAAET,IAAI,CAACS;MAFA,CAAD,CAAN,CAAR,CANS,CAWT;MACA;MACA;IAEH;EACJ,CArBD;AAsBH,CAvBM;;AAyBP,MAAMF,KAAK,GAAKG,IAAF,KAAa;EACvBC,IAAI,EAAEjB,KAAK,CAACkB,SADW;EAEvBC,OAAO,EAAEH;AAFc,CAAb,CAAd"},"metadata":{},"sourceType":"module"}