{"ast":null,"code":"import { fetchSinToken } from \"../helpers/fetch\";\nexport const stratLogin = (email, password) => {\n  return async () => {\n    const resp = await fetchSinToken('auth', {\n      email,\n      password\n    }, \"POST\"); //el fetch retorna\n    // una respuesta por lo q utilizamos el await y la funcion tendra q ser async\n\n    const body = await resp.json(); //lo converitmos para aceedera la informacion\n\n    if (body.ok) {\n      localStorage.setItem('token', body.token); //grabaremos el token en el local storage\n\n      localStorage.setItem('token-init-date', new Date().getTime()); //grabaremos la fecha completa del token\n      //en el local storage,la fecha en q se crea\n    } //ya lo tenemos todoo de nuestro backend ahora tenemos q hacer el dispatch de nuestra accion\n\n  };\n};","map":{"version":3,"names":["fetchSinToken","stratLogin","email","password","resp","body","json","ok","localStorage","setItem","token","Date","getTime"],"sources":["/home/erielmejias99/files/project/web/React/Calendar/MERN-Calendar/src/actions/auth.js"],"sourcesContent":["import {fetchSinToken} from \"../helpers/fetch\";\n\n\nexport const stratLogin = (email, password) => {\n    return async()=>{\n        const resp = await fetchSinToken('auth', {email, password}, \"POST\"); //el fetch retorna\n        // una respuesta por lo q utilizamos el await y la funcion tendra q ser async\n        const body = await resp.json();//lo converitmos para aceedera la informacion\n\n        if ( body.ok ){\n            localStorage.setItem('token', body.token); //grabaremos el token en el local storage\n            localStorage.setItem('token-init-date', new Date().getTime() ); //grabaremos la fecha completa del token\n            //en el local storage,la fecha en q se crea\n        }\n\n        //ya lo tenemos todoo de nuestro backend ahora tenemos q hacer el dispatch de nuestra accion\n    }\n}"],"mappings":"AAAA,SAAQA,aAAR,QAA4B,kBAA5B;AAGA,OAAO,MAAMC,UAAU,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;EAC3C,OAAO,YAAS;IACZ,MAAMC,IAAI,GAAG,MAAMJ,aAAa,CAAC,MAAD,EAAS;MAACE,KAAD;MAAQC;IAAR,CAAT,EAA4B,MAA5B,CAAhC,CADY,CACyD;IACrE;;IACA,MAAME,IAAI,GAAG,MAAMD,IAAI,CAACE,IAAL,EAAnB,CAHY,CAGmB;;IAE/B,IAAKD,IAAI,CAACE,EAAV,EAAc;MACVC,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,IAAI,CAACK,KAAnC,EADU,CACiC;;MAC3CF,YAAY,CAACC,OAAb,CAAqB,iBAArB,EAAwC,IAAIE,IAAJ,GAAWC,OAAX,EAAxC,EAFU,CAEsD;MAChE;IACH,CATW,CAWZ;;EACH,CAZD;AAaH,CAdM"},"metadata":{},"sourceType":"module"}